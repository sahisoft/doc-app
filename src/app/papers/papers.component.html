<div class="all-content-div">

  <div class="paper-div">

    <!-- Index-level view of papers by class -->
    <mat-list class="paper-by-class-index">

      <ng-container *ngIf="indexPapersByClass.isReady() | async">

        <ng-container *ngFor="let description of indexPapersByClass.getSortedDescriptions()">
          <mat-list-item class="paper-by-class-item">
            <table>
              <tr>
                <td>{{ description }}</td>
                <td>
                  <span *ngFor="let paper of indexPapersByClass.getPapersForDescription(description)">
                    <a class="paper-list-link" href="papers#{{paper.id}}">#{{paper.id}}</a>&nbsp;
                  </span>
                </td>
              </tr>
            </table>
          </mat-list-item>
        </ng-container>

      </ng-container>

    </mat-list><br/>

    <!-- High-level listing of all papers, showing only title.
    Each item will be linked to its respective card below. -->
    <mat-list class="paper-list">
      <ng-container *ngFor="let paper of papers">
        <mat-list-item class="paper-list-item">
          <a class="paper-list-link" href="papers#{{paper.id}}" appRenderTex [text]="paper.title"></a>
        </mat-list-item>
      </ng-container>
    </mat-list><br/>

    <!-- Details about each individual paper -->
    <ng-container *ngFor="let paper of papers">
      <mat-card class="paper-card" id="{{paper.id}}">

        <mat-card-title class="paper-card-title">
          <span>
            <a *ngIf="paper.url" href="{{paper.url}}" style="text-decoration: none">
              <img src="../../assets/icons/ic_cloud_download_white_18px.svg" />
            </a>
            <span appRenderTex [text]="paper.title"></span>
          </span>
        </mat-card-title>

        <mat-card-content class="paper-card-content">

          <ng-container *ngIf="authorDetailRegistryService.isReady() | async">
            <span appRenderByline [paper]="paper"></span><br/>
          </ng-container>


          <ng-container *ngIf="tryMscLookup.try(paper.mrclass)">
            <b>Classifications:</b>
            <ul *ngFor="let mscVal of tryMscLookup.get()">
              <li>
                <span appRenderTex [text]="mscVal"></span>
              </li>
            </ul><br/>
          </ng-container>


          <ng-container *ngIf="paper.abstractText">
            <span appRenderTex [text]="paper.abstractText"></span><br/>
          </ng-container>

        </mat-card-content>
      </mat-card><br/>
    </ng-container>
  </div>

  <!-- Show a list of the collaborators. -->
  <div class="collaborator-div">
    <mat-list class="collaborator-list">
      <ng-container *ngFor="let authorDetail of authorDetailRegistryService.getAuthorDetails()">
        <mat-list-item class="collaborator-list-item" *ngIf="authorDetail.authorType === authorDetail.Type.Collaborator">
          <a href="{{authorDetail.websiteUrl}}">{{authorDetail.printStyle}}</a>
        </mat-list-item>
      </ng-container>
    </mat-list>
  </div>

</div>
